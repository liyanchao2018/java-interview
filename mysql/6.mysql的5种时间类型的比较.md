# [mysql的5种时间类型的](https://blog.csdn.net/weixin_39220472/article/details/80458341)

msql的5种时间类型：DATETIME、 TIMESTAMP、DATE、TIME、YEAR。
比较如下：



| 日期时间类型 | 占用空间 | 日期格式            | 最小值              | 最大值              | 零值表示            |
| ------------ | -------- | ------------------- | ------------------- | ------------------- | ------------------- |
| DATETIME     | 8 bytes  | YYYY-MM-DD HH:MM:SS | 1000-01-01 00:00:00 | 9999-12-31 23:59:59 | 0000-00-00 00:00:00 |
| TIMESTAMP    | 4 bytes  | YYYY-MM-DD HH:MM:SS | 19700101080001      | 2038 年的某个时刻   | 00000000000000      |
| DATE         | 4 bytes  | YYYY-MM-DD          | 1000-01-01          | 9999-12-31          | 0000-00-00          |
| TIME         | 3 bytes  | HH:MM:SS            | -838:59:59          | 838:59:59           | 00:00:00            |
| YEAR         | 1 bytes  | YYYY                | 1901                | 2155                | 0000                |



 ####  DATETIME

```properties
DATETIME 用于表示 年月日 时分秒，是 DATE 和 TIME 的组合，并且记录的年份（见上表）比较长久。如果实际应用中有这样的需求，就可以使用 DATETIME 类型。
```

1、DATETIME列可以设置为多个，默认可为null，可以手动设置其值。
2、DATETIME列不可设定默认值。
3、DATETIME列可以变相的设定默认值，比如通过触发器、或者在插入数据时候，将DATETIME字段值设置为now()，这样可以做到了，尤其是后者，在程序开发中常常用到。

4、保存格式为YYYY-MM-DD HH:MM:SS（年月日时分秒）的整数，所以，它与时区无关，存入的是什么值就是什么值，不会根据当前时区进行转换。

5、从mysql 5.6.4中，可以存储小数片段，最多到小数点后6位，显示时格式为 yyyy-MM-dd HH:mm:ss[.222222]

```properties
mysql5.5中，没有小数片段，精确到秒。所以，我再从5.6版本迁移到5.5时，因生成的sql中datetime(6)有小数片段,无法导入。
```

6、存储范围：从1000-01-01 00:00:00 到'9999-12-31 23:59:59'

7、长度，8个字节，datetime(n),n不是存储长度，而是显示的小数位数，即使小数位数是0，存储是也是存储的6位小数，仅仅显示0位而已;要想显示小数，设置datetime(n),n=3显示小数点后3位，毫秒,n=6显示小数点后6位，微秒。



####  TIMESTAMP



1、TIMESTAMP列必须有默认值，默认值可以为“0000-00-00 00:00:00”，但不能为null。

2、TIMESTAMP 和时区相关，更能反映当前时间。当插入日期时，会先转换为本地时区后再存放；当查询日期时，会将日期转换为本地时区后再显示。所以不同时区的人看到的同一时间是  不一样的。

1、存入的是自1970-01-01午夜(格林尼治标准时间)以来的秒数，它和unix时间戳相同。所以它与时区有关，查询时转为相应的时区时间。比如，存储的是1970-01-01 00:00:00，客户端是北京，那么就加8个时区的小时1970-01-01 08:00:00。

3、表中的第一个 TIMESTAMP 列自动设置为系统时间（CURRENT_TIMESTAMP）。当插入或更新一行，但没有明确给 TIMESTAMP 列赋值，也会自动设置为当前系统时间。如果表中有第二个 TIMESTAMP 列，则默认值设置为0000-00-00 00:00:00。

4、有小数片段，至少从5.5就开始有

5、存储范围：'1970-01-01 00:00:01' UTC to '2038-01-19 03:14:07' 

6、可以当做时间戳使用，在更新时，自动更新，这一列只能由系统自动更新，不能由sql更新，这个在乐观锁时有广泛的应用

7、长度，4字节，因为存储长度的原因，决定了它支持的范围的比datetime的要小

8、显示时，显示日期和时间

9、一般建表时候，创建时间用datetime，更新时间用timestamp。



**datetime和timestamp都可以当作时间戳使用**

> datetime和timestamp都可以设置默认值，并且在其他列值更新时更新为当前时间，DEFAULT  CURRENT_TIMESTAMP和ON UPDATE CURRENT_TIMESTAMP，这俩子句可以一起使用，顺序无所谓，一起使用的意思是，默认值是当前时间并且在其他列更新值时，此列更新为当前时间。

~~~mysql
ALTER TABLE `mytest`.`date_time_test` 
CHANGE COLUMN `col2` `col2` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP ;
~~~





 #### DATE

    DATE 用于表示 年月日，如果实际应用值需要保存 年月日 就可以使用 DATE。

 #### TIME

    TIME 用于表示 时分秒，如果实际应用值需要保存 时分秒 就可以使用 TIME。

 #### YEAR

```properties
YEAR 用于表示 年份，YEAR 有 2 位（最好使用4位）和 4 位格式的年。 默认是4位。如果实际应用只保存年份，那么用 1 bytes 保存 YEAR 类型完全可以。不但能够节约存储空间，还能提高表的操作效率。
```

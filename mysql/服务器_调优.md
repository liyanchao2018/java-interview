# MySQL服务器调优

> 服务器常见问题汇总



### 1.如果一个高配的机器，redo log设置太小，会发生什么情况

​		一个内存配置为128GB、innodb_io_capacity设置为20000的大规格实例，正常会建议你将redo log设置成4个1GB的文件。

但如果你在配置的时候不慎将redo log设置成了1个100M的文件，会发生什么情况呢？又为什么会出现这样的情况呢？

答：

每次事务提交都要写redo log，如果设置太小，很快就会被写满，也就是下面这个图的状态，这个“环”将很快被写满，write pos一直追着CP。

<img src="..\mysql\images\a25bdbbfc2cfc5d5e20690547fe7f2e5.jpg" alt="img" style="zoom:50%;" />

这时候系统不得不停止所有更新，去推进checkpoint。

这时，你看到的现象就是**磁盘压力很小，但是数据库出现间歇性的性能下跌。**